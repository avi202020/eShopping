<?xml version="1.1" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
                   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.5.xsd">
    <changeSet author="pjadda (generated)" id="1554951791952-1">
        <createTable tableName="photo">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true" primaryKeyName="photoPK"/>
            </column>
            <column name="created_by" type="VARCHAR(100)"/>
            <column name="created_date" type="TINYBLOB"/>
            <column name="last_modified_by" type="VARCHAR(100)"/>
            <column name="last_modified_date" type="TINYBLOB"/>
            <column name="data" type="LONGBLOB"/>
            <column name="description" type="VARCHAR(255)"/>
            <column name="name" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="pjadda (generated)" id="1554951791952-2">
        <createTable tableName="product">
            <column autoIncrement="true" name="id" type="BIGINT">
                <constraints primaryKey="true" primaryKeyName="productPK"/>
            </column>
            <column name="created_by" type="VARCHAR(100)"/>
            <column name="created_date" type="TINYBLOB"/>
            <column name="last_modified_by" type="VARCHAR(100)"/>
            <column name="last_modified_date" type="TINYBLOB"/>
            <column name="description" type="LONGTEXT"/>
            <column name="name" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="category_id" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="pjadda (generated)" id="1554951791952-3">
        <createTable tableName="product_photo">
            <column name="product_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
            <column name="photo_id" type="BIGINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="pjadda (generated)" id="1554951791952-4">
        <addUniqueConstraint columnNames="price_id" constraintName="UK_1wkhsq2dogphcbnm6hl6dhqq8" tableName="product_price"/>
    </changeSet>
    <changeSet author="pjadda (generated)" id="1554951791952-5">
        <addUniqueConstraint columnNames="photo_id" constraintName="UK_8qvigvritbjygo4ifwnj5pfw4" tableName="product_photo"/>
    </changeSet>
    <changeSet author="pjadda (generated)" id="1554951791952-6">
        <addForeignKeyConstraint baseColumnNames="category_id" baseTableName="product" constraintName="FK1mtsbur82frn64de7balymq9s" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="category"/>
    </changeSet>
    <changeSet author="pjadda (generated)" id="1554951791952-7">
        <addForeignKeyConstraint baseColumnNames="photo_id" baseTableName="product_photo" constraintName="FK25eglbgctfnpi5mge7uq7pa1d" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="photo"/>
    </changeSet>
    <changeSet author="pjadda (generated)" id="1554951791952-8">
        <addForeignKeyConstraint baseColumnNames="price_id" baseTableName="price_product_list" constraintName="FK2qkbv9ws15bw8eedxqynpr32s" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="price"/>
    </changeSet>
    <changeSet author="pjadda (generated)" id="1554951791952-9">
        <addForeignKeyConstraint baseColumnNames="state_id" baseTableName="address" constraintName="FK4cx5jughttw4h3qfxrcitbtxl" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="state"/>
    </changeSet>
    <changeSet author="pjadda (generated)" id="1554951791952-10">
        <addForeignKeyConstraint baseColumnNames="region_id" baseTableName="address" constraintName="FK4ljdc68rnke4txup1jlf1il4l" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="region"/>
    </changeSet>
    <changeSet author="pjadda (generated)" id="1554951791952-11">
        <addForeignKeyConstraint baseColumnNames="order_status" baseTableName="order_detail" constraintName="FK61lcojablhugx52yjs8e1aa31" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="order_status"/>
    </changeSet>
    <changeSet author="pjadda (generated)" id="1554951791952-12">
        <addForeignKeyConstraint baseColumnNames="state_id" baseTableName="city" constraintName="FK6p2u50v8fg2y0js6djc6xanit" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="state"/>
    </changeSet>
    <changeSet author="pjadda (generated)" id="1554951791952-13">
        <addForeignKeyConstraint baseColumnNames="address_id" baseTableName="address" constraintName="FK8ftovogl7u9uud2od9ypy0o0e" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="user_profile"/>
    </changeSet>
    <changeSet author="pjadda (generated)" id="1554951791952-14">
        <addForeignKeyConstraint baseColumnNames="role_id" baseTableName="user_role" constraintName="FKa68196081fvovjhkek5m97n3y" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="role"/>
    </changeSet>
    <changeSet author="pjadda (generated)" id="1554951791952-15">
        <addForeignKeyConstraint baseColumnNames="order_id" baseTableName="order_history_detail_productlist" constraintName="FKdjnsagq3gapft9wevb12wpihe" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="order_history"/>
    </changeSet>
    <changeSet author="pjadda (generated)" id="1554951791952-16">
        <addForeignKeyConstraint baseColumnNames="privilege_id" baseTableName="role_privilege" constraintName="FKdkwbrwb5r8h74m1v7dqmhp99c" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="privilege"/>
    </changeSet>
    <changeSet author="pjadda (generated)" id="1554951791952-17">
        <addForeignKeyConstraint baseColumnNames="country_id" baseTableName="address" constraintName="FKe54x81nmccsk5569hsjg1a6ka" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="country"/>
    </changeSet>
    <changeSet author="pjadda (generated)" id="1554951791952-18">
        <addForeignKeyConstraint baseColumnNames="product_id" baseTableName="order_history_detail_productlist" constraintName="FKebca63pw7j58l71p2n0e6pl9m" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="order_history_product"/>
    </changeSet>
    <changeSet author="pjadda (generated)" id="1554951791952-19">
        <addForeignKeyConstraint baseColumnNames="product_id" baseTableName="product_price" constraintName="FKeupemu63ifqfc4txkskyy1hyi" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="product"/>
    </changeSet>
    <changeSet author="pjadda (generated)" id="1554951791952-20">
        <addForeignKeyConstraint baseColumnNames="shipping_address" baseTableName="order_detail" constraintName="FKff406vhs3jmf2my5q15c5dbck" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="address"/>
    </changeSet>
    <changeSet author="pjadda (generated)" id="1554951791952-21">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="user_role" constraintName="FKfgsgxvihks805qcq8sq26ab7c" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="user"/>
    </changeSet>
    <changeSet author="pjadda (generated)" id="1554951791952-22">
        <addForeignKeyConstraint baseColumnNames="product_list_id" baseTableName="price_product_list" constraintName="FKg0e474nntn9opxdss96kiyah9" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="product"/>
    </changeSet>
    <changeSet author="pjadda (generated)" id="1554951791952-23">
        <addForeignKeyConstraint baseColumnNames="country_id" baseTableName="state" constraintName="FKghic7mqjt6qb9vq7up7awu0er" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="country"/>
    </changeSet>
    <changeSet author="pjadda (generated)" id="1554951791952-24">
        <addForeignKeyConstraint baseColumnNames="order_history_address_id" baseTableName="order_history" constraintName="FKh793ojwenjmi27owbenrt0lfx" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="order_history_address"/>
    </changeSet>
    <changeSet author="pjadda (generated)" id="1554951791952-25">
        <addForeignKeyConstraint baseColumnNames="purchased_by" baseTableName="order_detail" constraintName="FKj4sfqlf6gxnjdxrgx6dguphmb" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="user_profile"/>
    </changeSet>
    <changeSet author="pjadda (generated)" id="1554951791952-26">
        <addForeignKeyConstraint baseColumnNames="order_history_user_profile" baseTableName="order_history" constraintName="FKja4kxl09wd3fhg1vmpqu6edgh" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="order_history_user_profile"/>
    </changeSet>
    <changeSet author="pjadda (generated)" id="1554951791952-27">
        <addForeignKeyConstraint baseColumnNames="currency_id" baseTableName="price" constraintName="FKjufxmhfbykaua4p43u87udfqq" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="currency"/>
    </changeSet>
    <changeSet author="pjadda (generated)" id="1554951791952-28">
        <addForeignKeyConstraint baseColumnNames="address_type_id" baseTableName="address" constraintName="FKkkjn52mg1vha4yjpm0douso7f" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="address_type"/>
    </changeSet>
    <changeSet author="pjadda (generated)" id="1554951791952-29">
        <addForeignKeyConstraint baseColumnNames="order_detail_id" baseTableName="order_detail_products" constraintName="FKksyb0gwkixy72i1uhwgube3ye" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="order_detail"/>
    </changeSet>
    <changeSet author="pjadda (generated)" id="1554951791952-30">
        <addForeignKeyConstraint baseColumnNames="city_id" baseTableName="address" constraintName="FKpo044ng5x4gynb291cv24vtea" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="city"/>
    </changeSet>
    <changeSet author="pjadda (generated)" id="1554951791952-31">
        <addForeignKeyConstraint baseColumnNames="user_id" baseTableName="user_profile" constraintName="FKqcd5nmg7d7ement27tt9sf3bi" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="user"/>
    </changeSet>
    <changeSet author="pjadda (generated)" id="1554951791952-32">
        <addForeignKeyConstraint baseColumnNames="product_id" baseTableName="order_detail_products" constraintName="FKrqasr5oeilutkupy5hxkih5tc" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="product"/>
    </changeSet>
    <changeSet author="pjadda (generated)" id="1554951791952-33">
        <addForeignKeyConstraint baseColumnNames="region_id" baseTableName="country" constraintName="FKs3bda8801uhqtttuaur9r6eic" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="region"/>
    </changeSet>
    <changeSet author="pjadda (generated)" id="1554951791952-34">
        <addForeignKeyConstraint baseColumnNames="product_id" baseTableName="product_photo" constraintName="FKsgi4krgb65fktq55a5xw6seqq" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="product"/>
    </changeSet>
    <changeSet author="pjadda (generated)" id="1554951791952-35">
        <addForeignKeyConstraint baseColumnNames="role_id" baseTableName="role_privilege" constraintName="FKsykrtrdngu5iexmbti7lu9xa" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="role"/>
    </changeSet>
    <changeSet author="pjadda (generated)" id="1554951791952-36">
        <addForeignKeyConstraint baseColumnNames="price_id" baseTableName="product_price" constraintName="FKxfgbtbbrfa24m2881bw2k0rv" deferrable="false" initiallyDeferred="false" referencedColumnNames="id" referencedTableName="price"/>
    </changeSet>
    <changeSet author="pjadda (generated)" id="1554951791952-37">
        <dropForeignKeyConstraint baseTableName="SPRING_SESSION_ATTRIBUTES" constraintName="SPRING_SESSION_ATTRIBUTES_FK"/>
    </changeSet>
    <changeSet author="pjadda (generated)" id="1554951791952-38">
        <dropUniqueConstraint constraintName="SPRING_SESSION_IX1" tableName="SPRING_SESSION"/>
    </changeSet>
    <changeSet author="pjadda (generated)" id="1554951791952-39">
        <dropTable tableName="SPRING_SESSION"/>
    </changeSet>
    <changeSet author="pjadda (generated)" id="1554951791952-40">
        <dropTable tableName="SPRING_SESSION_ATTRIBUTES"/>
    </changeSet>
    <changeSet author="pjadda (generated)" id="1554951791952-41">
        <dropColumn columnName="test" tableName="address"/>
    </changeSet>
    <changeSet author="pjadda (generated)" id="1554951791952-42">
        <dropUniqueConstraint constraintName="UK_1wkhsq2dogphcbnm6hl6dhqq8" tableName="product_price"/>
        <addUniqueConstraint columnNames="price_id" constraintName="UK_1wkhsq2dogphcbnm6hl6dhqq8" tableName="product_price"/>
    </changeSet>
</databaseChangeLog>
